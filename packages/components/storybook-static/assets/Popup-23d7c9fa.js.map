{"version":3,"file":"Popup-23d7c9fa.js","sources":["../../hooks/useOnFocus.tsx","../../hooks/useOnFocusOut.tsx","../../hooks/useOnHover.tsx","../../hooks/useOnHoverOut.tsx","../../Popup/BasePopup.tsx","../../utility/getPopupPositionStyle.tsx","../../Popup/PopupLayoutContainer.tsx","../../Popup/Popup.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nexport const useOnFocus = (\r\n  ref: React.RefObject<HTMLElement>,\r\n  handler: () => void\r\n) => {\r\n  return React.useEffect(() => {\r\n    ref.current?.addEventListener(\"focus\", handler);\r\n    return () => {\r\n      ref.current?.removeEventListener(\"focus\", handler);\r\n    };\r\n  }, [ref]);\r\n};\r\n","import * as React from \"react\";\r\n\r\nexport const useOnFocusOut = (\r\n  ref: React.RefObject<HTMLElement>,\r\n  handler: () => void\r\n) => {\r\n  return React.useEffect(() => {\r\n    ref.current?.addEventListener(\"focusout\", handler);\r\n\r\n    return () => {\r\n      ref.current?.removeEventListener(\"focusout\", handler);\r\n    };\r\n  }, [ref]);\r\n};\r\n","import * as React from \"react\";\r\n\r\nexport const useOnHover = (\r\n  ref: React.RefObject<HTMLElement>,\r\n  handler: () => void\r\n) => {\r\n  return React.useEffect(() => {\r\n    ref.current?.addEventListener(\"mouseenter\", handler);\r\n    return () => {\r\n      ref.current?.removeEventListener(\"mouseenter\", handler);\r\n    };\r\n  }, [ref]);\r\n};\r\n","import * as React from \"react\";\r\n\r\nexport const useOnHoverOut = (\r\n  ref: React.RefObject<HTMLElement>,\r\n  handler: () => void\r\n) => {\r\n  return React.useEffect(() => {\r\n    ref.current?.addEventListener(\"mouseleave\", handler);\r\n    return () => {\r\n      ref.current?.removeEventListener(\"mouseleave\", handler);\r\n    };\r\n  }, [ref]);\r\n};\r\n","import classNames from \"classnames\";\r\nimport * as React from \"react\";\r\nimport { Typography } from \"../Typography/Typography\";\r\n\r\nimport styles from \"./BasePopup.module.scss\";\r\n\r\nexport type BasePopupPosition = \"bottom\" | \"top\" | \"left\" | \"right\";\r\n\r\nexport interface BasePopupProps\r\n  extends React.ComponentPropsWithoutRef<\"div\"> {\r\n  /**\r\n   * If the Popup has an indicator\r\n   */\r\n  hasIndicator: boolean;\r\n  /**\r\n   * The position of the Popup\r\n   */\r\n  position: BasePopupPosition;\r\n  /**\r\n   * The text for the Popup\r\n   */\r\n  text: string;\r\n}\r\n\r\nexport const BasePopup = React.forwardRef<\r\n  HTMLDivElement,\r\n  BasePopupProps\r\n>((props, ref) => {\r\n  const { className, hasIndicator, position, text, ...rest } = props;\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        hasIndicator && styles.indicator,\r\n        position === \"bottom\" && styles.bottom,\r\n        position === \"top\" && styles.top,\r\n        position === \"left\" && styles.left,\r\n        position === \"right\" && styles.right,\r\n        styles.basePopup,\r\n        className\r\n      )}\r\n      ref={ref}\r\n      role=\"tooltip\"\r\n      {...rest}\r\n    >\r\n      <Typography type=\"h2\" variant=\"primary\">\r\n        {text}\r\n      </Typography>\r\n    </div>\r\n  );\r\n});\r\n\r\nBasePopup.displayName = \"BasePopup\";\r\n","import { BasePopupPosition } from \"../components/Popup/BasePopup\";\r\nimport { getLayoutStyle } from \"./getLayoutStyle\";\r\n\r\nexport const getPopupPositionStyle = ({\r\n  position,\r\n  referrerRef,\r\n  targetRef,\r\n}: {\r\n  position: BasePopupPosition;\r\n  referrerRef: React.RefObject<HTMLElement>;\r\n  targetRef: React.RefObject<HTMLElement>;\r\n}) =>\r\n  getLayoutStyle({\r\n    calculateLayout({\r\n      referrerHeight,\r\n      referrerWidth,\r\n      targetHeight,\r\n      targetWidth,\r\n    }) {\r\n      const left =\r\n        position === \"left\"\r\n          ? -1 * referrerWidth\r\n          : position === \"right\"\r\n          ? targetWidth\r\n          : (targetWidth - referrerWidth) / 2;\r\n\r\n      const top =\r\n        position === \"bottom\"\r\n          ? targetHeight\r\n          : position === \"top\"\r\n          ? -1 * referrerHeight\r\n          : (targetHeight - referrerHeight) / 2;\r\n\r\n      return { left, top };\r\n    },\r\n    referrerRef,\r\n    targetRef,\r\n  });\r\n","import * as React from \"react\";\r\nimport styles from \"./PopupLayoutContainer.module.scss\";\r\nimport { getPopupPositionStyle } from \"../utility/getPopupPositionStyle\";\r\nimport { BasePopupPosition } from \"./BasePopup\";\r\nimport classNames from \"classnames\";\r\n\r\nexport interface PopupLayoutContainerProps\r\n  extends React.ComponentPropsWithoutRef<\"div\"> {\r\n  /**\r\n   * If the Popup has an indicator\r\n   */\r\n  hasIndicator: boolean;\r\n  /**\r\n   * The position for the Popup\r\n   */\r\n  position: BasePopupPosition;\r\n  /**\r\n   * The trigger ref for the Popup\r\n   */\r\n  triggerRef: React.RefObject<HTMLElement>;\r\n}\r\n\r\nexport const PopupLayoutContainer: React.FC<PopupLayoutContainerProps> =\r\n  (props) => {\r\n    const { className, hasIndicator, position, triggerRef, ...rest } =\r\n      props;\r\n\r\n    const [rootStyle, setRootStyle] =\r\n      React.useState<React.CSSProperties>({ visibility: \"hidden\" });\r\n\r\n    const referrerRef = React.useRef<HTMLDivElement>(null);\r\n\r\n    React.useEffect(() => {\r\n      setRootStyle(\r\n        getPopupPositionStyle({\r\n          position,\r\n          referrerRef,\r\n          targetRef: triggerRef,\r\n        })\r\n      );\r\n    }, [position, referrerRef, triggerRef]);\r\n\r\n    return (\r\n      <div\r\n        className={classNames(\r\n          className,\r\n          hasIndicator && styles.hasIndicator,\r\n          position === \"top\" && styles.top,\r\n          position === \"bottom\" && styles.bottom,\r\n          position === \"left\" && styles.left,\r\n          position === \"right\" && styles.right,\r\n          styles.layoutContainer\r\n        )}\r\n        ref={referrerRef}\r\n        style={rootStyle}\r\n        {...rest}\r\n      />\r\n    );\r\n  };\r\n\r\nPopupLayoutContainer.displayName = \"PopupLayoutContainer\";\r\n","import * as React from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport styles from \"./Popup.module.scss\";\r\nimport classNames from \"classnames\";\r\nimport {\r\n  useOnFocus,\r\n  useOnFocusOut,\r\n  useOnHover,\r\n  useOnHoverOut,\r\n} from \"../hooks\";\r\nimport {\r\n  BasePopup,\r\n  BasePopupPosition as PopupPosition,\r\n} from \"./BasePopup\";\r\nimport { PopupLayoutContainer } from \"./PopupLayoutContainer\";\r\n\r\nexport interface PopupProps\r\n  extends React.ComponentPropsWithoutRef<\"div\"> {\r\n  /**\r\n   * The trigger for the Popup\r\n   */\r\n  children: React.ReactElement;\r\n  /**\r\n   * If the Popup has an indicator\r\n   *\r\n   * @default false\r\n   */\r\n  hasIndicator?: boolean;\r\n  /**\r\n   * If the Popup is open\r\n   *\r\n   * @default false\r\n   */\r\n  isOpen?: boolean;\r\n  /**\r\n   * The callback fired when the Popup closes\r\n   */\r\n  onClose: (itemValue?: string) => void;\r\n  /**\r\n   * The callback fired when the Popup opens\r\n   */\r\n  onOpen: () => void;\r\n  /**\r\n   * The position of the Popup\r\n   *\r\n   * @default \"bottom\"\r\n   */\r\n  position?: PopupPosition;\r\n  /**\r\n   * The text for the Popup\r\n   */\r\n  text: string;\r\n}\r\n\r\n/**\r\n * @public\r\n *\r\n * @description\r\n *\r\n * The Popup component is a display that shows when hovering\r\n * over an element.\r\n */\r\nexport const Popup: React.FC<PopupProps> = (props) => {\r\n  const {\r\n    className,\r\n    children,\r\n    hasIndicator = false,\r\n    isOpen = false,\r\n    onClose,\r\n    onOpen,\r\n    position = \"bottom\",\r\n    text,\r\n    ...rest\r\n  } = props;\r\n\r\n  const popupRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const triggerRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  // Show Popup on focus or hover\r\n  useOnFocus(triggerRef, onOpen);\r\n  useOnHover(triggerRef, onOpen);\r\n\r\n  // Hide Popup on focus out or hover out\r\n  useOnFocusOut(triggerRef, onClose);\r\n  useOnHoverOut(triggerRef, onClose);\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        position === \"bottom\" && styles.bottom,\r\n        position === \"top\" && styles.top,\r\n        position === \"left\" && styles.left,\r\n        position === \"right\" && styles.right,\r\n        styles.container\r\n      )}\r\n    >\r\n      {React.cloneElement(React.Children.only(children), {\r\n        ref: triggerRef,\r\n        role: \"button\",\r\n        tabIndex: 0,\r\n      })}\r\n\r\n      <CSSTransition\r\n        classNames={{\r\n          enter: styles.enter,\r\n          enterActive: styles.enterActive,\r\n          exit: styles.exit,\r\n          exitActive: styles.exitActive,\r\n        }}\r\n        in={isOpen}\r\n        mountOnEnter\r\n        nodeRef={popupRef}\r\n        timeout={200}\r\n        unmountOnExit\r\n      >\r\n        <PopupLayoutContainer\r\n          hasIndicator={hasIndicator}\r\n          position={position}\r\n          triggerRef={triggerRef}\r\n        >\r\n          <BasePopup\r\n            className={className}\r\n            hasIndicator={hasIndicator}\r\n            position={position}\r\n            ref={popupRef}\r\n            text={text}\r\n            {...rest}\r\n          />\r\n        </PopupLayoutContainer>\r\n      </CSSTransition>\r\n    </div>\r\n  );\r\n};\r\n\r\nPopup.displayName = \"Popup\";\r\n"],"names":["useOnFocus","ref","handler","React.useEffect","_a","useOnFocusOut","useOnHover","useOnHoverOut","BasePopup","React.forwardRef","props","className","hasIndicator","position","text","rest","jsx","classNames","styles","Typography","getPopupPositionStyle","referrerRef","targetRef","getLayoutStyle","referrerHeight","referrerWidth","targetHeight","targetWidth","left","top","PopupLayoutContainer","triggerRef","rootStyle","setRootStyle","React.useState","React.useRef","Popup","children","isOpen","onClose","onOpen","popupRef","jsxs","React.cloneElement","React.Children","CSSTransition"],"mappings":"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"}